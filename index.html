<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arthur & Jojo</title>
<style>
/* Reset & style global */
* {margin:0; padding:0; box-sizing:border-box;}
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(145deg,#111,#222);
    color: #eee;
}
header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:1rem 2rem;
    background:#111;
    box-shadow: 0 4px 6px rgba(0,0,0,0.5);
}
header h1 {color:#fff;}
.menu-btn {font-size:2rem; cursor:pointer; background:none; border:none; color:#fff;}
.menu-content {
    display:none;
    flex-direction:column;
    position:absolute;
    top:60px; right:20px;
    background:#222;
    border-radius:8px;
    padding:10px;
    gap:8px;
}
.menu-content button {
    padding:0.5rem 1rem; border:none; border-radius:6px;
    background:#444; color:#fff; cursor:pointer; transition:0.3s;
}
.menu-content button:hover {background:#666;}

/* Panels */
.panel {
    background: #1b1b1b;
    border-radius:12px;
    padding:1rem 2rem;
    margin:2rem auto;
    max-width:900px;
    box-shadow:0 4px 10px rgba(0,0,0,0.6);
}
.panel h2 {color:#ff6; margin-bottom:1rem;}
input, textarea {width:100%; padding:0.6rem; margin:0.5rem 0; border-radius:6px; border:none; background:#222; color:#fff;}
button.action-btn {
    padding:0.6rem 1rem; border-radius:6px; border:none; background:#444; color:#fff;
    cursor:pointer; transition:0.3s; margin-top:0.5rem;
}
button.action-btn:hover {background:#666;}
.ticket, .annonce, .video {
    background:#222; padding:0.8rem; margin-bottom:0.8rem; border-radius:8px;
    display:flex; justify-content:space-between; align-items:center;
}
.ticket .msg-area {flex:1; margin-right:10px;}
footer {text-align:center; padding:1rem; color:#ff6; border-top:1px solid #444;}

/* Animations des boutons */
button.action-btn:hover {
    transform:scale(1.05);
}
</style>
</head>
<body>

<header>
    <h1>Arthur & Jojo</h1>
    <button class="menu-btn" id="hamburger">&#9776;</button>
    <div class="menu-content" id="menuContent">
        <button id="loginBtn">Se connecter Admin</button>
        <button id="ticketsBtn">Ouvrir un ticket</button>
    </div>
</header>

<div class="container">

    <!-- Connexion -->
    <div id="loginPanel" class="panel hidden">
        <h2>Connexion Admin</h2>
        <input type="password" id="loginCode" placeholder="Entrez le code admin">
        <button id="loginSubmit" class="action-btn">Se connecter</button>
        <p id="loginMsg" style="color:red;"></p>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="panel hidden">
        <h2>Panel Admin</h2>

        <!-- Annonces -->
        <div class="annonces">
            <h3>Annonces</h3>
            <input type="text" id="newAnnonce" placeholder="Nouvelle annonce">
            <button id="addAnnonceBtn" class="action-btn">Ajouter annonce</button>
            <div id="annoncesList"></div>
        </div>

        <!-- Vidéos -->
        <div class="videos">
            <h3>Vidéos</h3>
            <input type="text" id="newVideo" placeholder="Lien vidéo">
            <button id="addVideoBtn" class="action-btn">Ajouter vidéo</button>
            <div id="videosList"></div>
        </div>

        <!-- Tickets -->
        <div class="tickets">
            <h3>Tickets</h3>
            <div id="ticketsList"></div>
        </div>
    </div>

</div>

<footer>
    Codé par Jojo fait avec ❤
</footer>

<script>
// Storage
let annonces = JSON.parse(localStorage.getItem("annonces") || "[]");
let videos = JSON.parse(localStorage.getItem("videos") || "[]");
let tickets = JSON.parse(localStorage.getItem("tickets") || "[]");
let isAdmin = JSON.parse(localStorage.getItem("isAdmin") || "false");

// Menu toggle
const hamburger = document.getElementById("hamburger");
const menuContent = document.getElementById("menuContent");
hamburger.onclick = ()=> menuContent.style.display = menuContent.style.display==="flex"?"none":"flex";

// Panels
const loginBtn = document.getElementById("loginBtn");
const ticketsBtn = document.getElementById("ticketsBtn");
const loginPanel = document.getElementById("loginPanel");
const loginSubmit = document.getElementById("loginSubmit");
const loginCode = document.getElementById("loginCode");
const loginMsg = document.getElementById("loginMsg");
const adminPanel = document.getElementById("adminPanel");

const newAnnonceInput = document.getElementById("newAnnonce");
const addAnnonceBtn = document.getElementById("addAnnonceBtn");
const annoncesList = document.getElementById("annoncesList");
const newVideoInput = document.getElementById("newVideo");
const addVideoBtn = document.getElementById("addVideoBtn");
const videosList = document.getElementById("videosList");
const ticketsList = document.getElementById("ticketsList");

// Save
function saveAll() {
    localStorage.setItem("annonces", JSON.stringify(annonces));
    localStorage.setItem("videos", JSON.stringify(videos));
    localStorage.setItem("tickets", JSON.stringify(tickets));
    localStorage.setItem("isAdmin", JSON.stringify(isAdmin));
}

// Render
function renderAnnonces() {
    annoncesList.innerHTML="";
    annonces.forEach((a,i)=>{
        const div=document.createElement("div");
        div.className="annonce";
        div.textContent=a;
        const btn=document.createElement("button");
        btn.textContent="Supprimer";
        btn.onclick=()=>{ annonces.splice(i,1); saveAll(); renderAnnonces();}
        div.appendChild(btn);
        annoncesList.appendChild(div);
    });
}
function renderVideos() {
    videosList.innerHTML="";
    videos.forEach((v,i)=>{
        const div=document.createElement("div");
        div.className="video";
        div.textContent=v;
        const btn=document.createElement("button");
        btn.textContent="Supprimer";
        btn.onclick=()=>{ videos.splice(i,1); saveAll(); renderVideos();}
        div.appendChild(btn);
        videosList.appendChild(div);
    });
}
function renderTickets() {
    ticketsList.innerHTML="";
    tickets.forEach((t,i)=>{
        const div=document.createElement("div");
        div.className="ticket";
        const msgArea=document.createElement("div");
        msgArea.className="msg-area";
        msgArea.innerHTML=`<strong>${t.user}</strong><br>${t.messages.join("<br>")}`;
        div.appendChild(msgArea);
        if(isAdmin){
            const input=document.createElement("input");
            input.placeholder="Répondre...";
            const btnSend=document.createElement("button");
            btnSend.textContent="Envoyer";
            btnSend.onclick=()=>{
                if(input.value){
                    t.messages.push("Admin: "+input.value);
                    saveAll(); renderTickets(); input.value="";
                }
            }
            const btnDel=document.createElement("button");
            btnDel.textContent="Supprimer";
            btnDel.onclick=()=>{ tickets.splice(i,1); saveAll(); renderTickets();}
            div.appendChild(input);
            div.appendChild(btnSend);
            div.appendChild(btnDel);
        }
        ticketsList.appendChild(div);
    });
}

// Login
loginBtn.onclick = ()=> loginPanel.classList.toggle("hidden");
loginSubmit.onclick = ()=>{
    if(loginCode.value.trim() === "2516"){
        isAdmin=true;
        saveAll();
        adminPanel.classList.remove("hidden");
        loginPanel.classList.add("hidden");
        renderAnnonces(); renderVideos(); renderTickets();
    } else loginMsg.textContent="Code incorrect !";
}

// Tickets
ticketsBtn.onclick = ()=>{
    if(!isAdmin) return alert("Connectez-vous en admin pour créer des tickets !");
    const msg = prompt("Écrire un message pour le ticket :");
    if(msg){
        tickets.push({user:"Utilisateur", messages:[msg]});
        saveAll();
        renderTickets();
    }
}

// Ajouter annonce
addAnnonceBtn.onclick = ()=>{
    if(newAnnonceInput.value){
        annonces.push(newAnnonceInput.value);
        newAnnonceInput.value="";
        saveAll();
        renderAnnonces();
    }
}

// Ajouter vidéo
addVideoBtn.onclick = ()=>{
    if(newVideoInput.value){
        videos.push(newVideoInput.value);
        newVideoInput.value="";
        saveAll();
        renderVideos();
    }
}

// Init
if(isAdmin) adminPanel.classList.remove("hidden");
renderAnnonces();
renderVideos();
renderTickets();
</script>

</body>
</html>
