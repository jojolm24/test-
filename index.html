<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Discord Factory — Boutique de Bots</title>
  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0a0f1a;color:white}
    header{padding:20px;text-align:center;background:#11172a;border-bottom:1px solid #1e293b}
    h1{margin:0;font-size:2rem}

    .container{max-width:1100px;margin:auto;padding:20px}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-top:20px}
    .card{background:#11172a;padding:16px;border-radius:10px;border:1px solid #1e293b}
    .card h3{margin-top:0}
    .card button{width:100%;padding:10px;border:none;border-radius:8px;background:#4f46e5;color:white;cursor:pointer;margin-top:10px}

    #cartPanel{position:fixed;right:20px;top:20px;background:#11172a;padding:16px;border-radius:10px;border:1px solid #1e293b;width:300px}

    /* ADMIN */
    #adminLogin,#adminPanel{margin-top:40px;padding:20px;background:#11172a;border-radius:10px;border:1px solid #1e293b}
    #adminLogin input,#adminPanel input,#adminPanel textarea{width:100%;padding:8px;margin-bottom:10px;border:none;border-radius:6px;background:#0d1320;color:white}
    #adminLogin button,#adminPanel button{padding:10px 14px;background:#4f46e5;border:none;border-radius:6px;color:white;cursor:pointer}
  </style>
</head>
<body>
  <header>
    <h1>Discord Factory — Boutique de Bots</h1>
    <p>Ajoute des bots gratuits à ton serveur</p>
  </header>

  <div class="container">

    <h2>Bots disponibles</h2>
    <section id="catalog" class="grid"></section>

    <aside id="cartPanel">
      <h3>Panier (gratuit)</h3>
      <div id="cartList"></div>
      <button id="checkoutBtn">Télécharger les bots</button>
    </aside>

    <!-- LOGIN ADMIN -->
    <div id="adminLogin" style="display:none;">
      <h2>Connexion Admin</h2>
      <input id="loginPass" type="password" placeholder="Mot de passe admin">
      <button id="loginBtn">Se connecter</button>
    </div>

    <!-- PANEL ADMIN -->
    <div id="adminPanel" style="display:none;">
      <h2>Admin — Ajouter / Modifier un bot</h2>
      <input id="botName" placeholder="Nom du bot">
      <textarea id="botDesc" placeholder="Description du bot"></textarea>
      <input id="botCategory" placeholder="Catégorie (modération, musique…)">
      <input id="botLink" placeholder="Lien d'installation / invite du bot">
      <button id="addBotBtn">Ajouter / Mettre à jour</button>
    </div>

  </div>

<script>
  /* ------------------------------ */
  /*        DONNÉES BOTS          */
  /* ------------------------------ */
  let bots = [
    {id:1,name:"Modération+",desc:"Bot de modération complet.",cat:"modération",link:"#"},
    {id:2,name:"MusicMaster",desc:"Bot musique premium.",cat:"musique",link:"#"},
    {id:3,name:"FunZone",desc:"Mini-jeux et commandes fun.",cat:"fun",link:"#"}
  ];

  let cart = [];

  /* ------------------------------ */
  /*       AFFICHAGE BOUTIQUE       */
  /* ------------------------------ */
  function renderCatalog(){
    const root = document.getElementById('catalog');
    root.innerHTML = '';
    bots.forEach(b=>{
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<h3>${b.name}</h3><p>${b.desc}</p><small>${b.cat}</small><br><button onclick="addToCart(${b.id})">Ajouter au panier</button>`;
      root.appendChild(div);
    })
  }

  function addToCart(id){
    const b = bots.find(x=>x.id===id);
    if(!cart.includes(b)) cart.push(b);
    renderCart();
  }

  function renderCart(){
    const root = document.getElementById('cartList');
    root.innerHTML = cart.length===0 ? '<p>Aucun bot ajouté</p>' : '';
    cart.forEach(b=>{
      const div = document.createElement('div');
      div.innerHTML = `<strong>${b.name}</strong> <button onclick="removeBot(${b.id})">Retirer</button>`;
      root.appendChild(div);
    })
  }

  function removeBot(id){ cart = cart.filter(b=>b.id!==id); renderCart(); }

  document.getElementById('checkoutBtn').onclick = ()=>{
    if(cart.length===0) return alert("Aucun bot dans le panier.");
    let list = cart.map(b=>`${b.name}: ${b.link}`).join("\n");
    alert("Bots à installer :\n"+list);
  };

  /* ------------------------------ */
  /*      SYSTÈME ADMIN OPTION 3    */
  /* ------------------------------ */

  // Si aucun mot de passe n'existe, on demande d'en créer un
  if(!localStorage.getItem('adminPass')){
    const newPass = prompt("Créer un mot de passe admin :");
    if(newPass){ localStorage.setItem('adminPass',newPass); alert("Mot de passe admin créé !"); }
    else alert("Aucun mot de passe créé — Admin désactivé.");
  }

  const adminPanel = document.getElementById('adminPanel');
  const adminLogin = document.getElementById('adminLogin');

  function showLogin(){ adminLogin.style.display='block'; }
  function showAdmin(){ adminPanel.style.display='block'; adminLogin.style.display='none'; }

  // Affiche la page login si mot de passe existe
  showLogin();

  document.getElementById('loginBtn').onclick = ()=>{
    const typed = document.getElementById('loginPass').value;
    const real = localStorage.getItem('adminPass');

    if(typed === real){
      alert("Connexion Admin réussie !");
      showAdmin();
    } else {
      alert("Mot de passe incorrect.");
    }
  };

  /* ------------------------------ */
  /*      AJOUT / MODIF BOT         */
  /* ------------------------------ */
  document.getElementById('addBotBtn').onclick = ()=>{
    const n = botName.value.trim();
    const d = botDesc.value.trim();
    const c = botCategory.value.trim();
    const l = botLink.value.trim();

    if(!n||!d||!c||!l) return alert("Remplis tous les champs.");

    const exists = bots.find(b=>b.name.toLowerCase()===n.toLowerCase());

    if(exists){
      exists.desc = d;
      exists.cat = c;
      exists.link = l;
      alert("Bot mis à jour !");
    } else {
      bots.push({id:Date.now(),name:n,desc:d,cat:c,link:l});
      alert("Bot ajouté !");
    }

    renderCatalog();
  }

  renderCatalog();
  renderCart();
</script>

</body>
</html>
</html>

