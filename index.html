<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arthur & Jojo</title>
<style>
  /* --- Style Global --- */
  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #1b1b1b, #111);
    color: #fff;
    overflow-x: hidden;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background: #111;
    position: sticky;
    top: 0;
    z-index: 10;
    box-shadow: 0 2px 10px rgba(0,0,0,0.7);
  }
  .logo { font-size: 1.5rem; font-weight: bold; color: #ff5f6d; }
  nav { position: relative; }

  /* Menu connexion */
  .menu-btn {
    background: linear-gradient(90deg,#444,#222);
    border: none;
    padding: 0.5rem 1rem;
    border-radius:10px;
    font-size:1rem;
    color:#fff;
    cursor:pointer;
    box-shadow:0 4px 10px rgba(0,0,0,0.5);
    transition:0.3s;
  }
  .menu-btn:hover { background: linear-gradient(90deg,#555,#333); }

  .dropdown { 
    position:absolute; 
    right:0; top:3rem; 
    display:none; 
    flex-direction: column; 
    background:#222; 
    border-radius:10px; 
    box-shadow:0 4px 10px rgba(0,0,0,0.7); 
    overflow:hidden;
  }
  .dropdown.show { display:flex; }
  .login-btn {
    padding:0.8rem 1.2rem;
    border:none;
    background:#333;
    color:#fff;
    font-weight:bold;
    text-align:left;
    cursor:pointer;
    transition:0.3s;
  }
  .login-btn:hover { background: linear-gradient(90deg,#ff5f6d,#ffc371); color:#000; }

  /* Container principal */
  .container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 2rem;
  }
  section {
    margin-bottom: 2rem;
    background: #1c1c1c;
    padding: 1.5rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.7);
  }

  h2 { margin-bottom:1rem; color: #ff5f6d; }

  /* Bouton ticket */
  .ticket-btn {
    background: linear-gradient(90deg,#ff5f6d,#ffc371);
    color:#000;
    font-weight:bold;
    padding:0.8rem 1.5rem;
    border:none;
    border-radius:12px;
    cursor:pointer;
    font-size:1.2rem;
    box-shadow:0 4px 15px rgba(255,193,113,0.6);
    transition:0.3s;
    margin-bottom:1rem;
  }
  .ticket-btn:hover { transform: translateY(-3px); box-shadow:0 6px 20px rgba(255,193,113,0.8); }

  /* Vignettes vid√©o */
  .video-list iframe {
    width: 100%;
    max-width: 600px;
    height: 340px;
    margin-bottom: 1rem;
    border-radius: 10px;
    border: none;
  }

  /* Annonces */
  .annonce {
    background: #333;
    padding: 0.8rem 1rem;
    margin-bottom: 0.5rem;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .delete-btn {
    background: #ff5f6d;
    border: none;
    padding: 0.2rem 0.5rem;
    border-radius:5px;
    cursor:pointer;
  }

  /* Panel Admin */
  #adminPanel {
    background: #222;
    padding: 1rem;
    border-radius:15px;
    display:none;
  }
  #adminPanel input, #adminPanel textarea {
    width: 100%;
    padding:0.5rem;
    margin-bottom:0.5rem;
    border-radius:5px;
    border:none;
  }
  #adminPanel button {
    padding:0.5rem 1rem;
    border-radius:8px;
    border:none;
    cursor:pointer;
    margin-right:0.5rem;
  }

  /* Tickets discussion */
  .ticket-discussion {
    background:#333;
    padding:1rem;
    border-radius:10px;
    max-height:300px;
    overflow-y:auto;
    margin-top:0.5rem;
  }
  .ticket-message { margin-bottom:0.5rem; }
  .ticket-message span { font-weight:bold; }

  /* Footer */
  footer { text-align:center; margin:2rem 0; font-size:0.9rem; color:#aaa; }
</style>
</head>
<body>

<header>
  <div class="logo">Arthur & Jojo ‚ù§</div>
  <nav>
    <button class="menu-btn" onclick="toggleMenu()">‚ò∞ Se connecter</button>
    <div class="dropdown" id="menuDropdown">
      <button class="login-btn" onclick="loginUser()">
        <span>üë§ Utilisateur</span>
      </button>
      <button class="login-btn" onclick="loginAdmin()">
        <span>üõ°Ô∏è Acc√®s Administratif</span>
      </button>
    </div>
  </nav>
</header>

<div class="container">

  <!-- Vid√©os -->
  <section id="videosSection">
    <h2>üé• Vid√©os</h2>
    <div class="video-list">
      <iframe src="https://www.youtube.com/embed/UCUk7-ajL9QIou0-klV9EeGQ" allowfullscreen></iframe>
    </div>
  </section>

  <!-- Annonces -->
  <section id="annoncesSection">
    <h2>üì¢ Annonces</h2>
    <div id="annoncesList"></div>
  </section>

  <!-- Tickets -->
  <section id="ticketsSection">
    <h2>üé´ Tickets</h2>
    <button class="ticket-btn" onclick="openTicket()">‚ûï Ouvrir un ticket</button>
    <div id="tickets"></div>
  </section>

  <!-- Admin Panel -->
  <section id="adminPanel">
    <h2>üõ†Ô∏è Panel Admin</h2>
    <input type="text" id="annonceInput" placeholder="Nouvelle annonce">
    <button onclick="addAnnonce()">Ajouter annonce</button>
    <h3>Tickets</h3>
    <div id="adminTickets"></div>
  </section>

</div>

<footer>Cod√© par Jojo fait avec le ‚ù§</footer>

<script>
/* --- Connexion menu --- */
function toggleMenu() {
  document.getElementById('menuDropdown').classList.toggle('show');
}

/* --- Simulation stockage persistant (localStorage) --- */
let annonces = JSON.parse(localStorage.getItem('annonces')||'[]');
let tickets = JSON.parse(localStorage.getItem('tickets')||'[]');
let ticketIdCounter = Number(localStorage.getItem('ticketCounter')||0);

function renderAnnonces() {
  const list = document.getElementById('annoncesList');
  list.innerHTML = '';
  annonces.forEach((annonce, i) => {
    const div = document.createElement('div');
    div.className = 'annonce';
    div.innerHTML = `<span>${annonce}</span> <button class="delete-btn" onclick="deleteAnnonce(${i})">‚ùå</button>`;
    list.appendChild(div);
  });
}

function deleteAnnonce(i) {
  annonces.splice(i,1);
  localStorage.setItem('annonces',JSON.stringify(annonces));
  renderAnnonces();
}

function addAnnonce() {
  const val = document.getElementById('annonceInput').value.trim();
  if(val) {
    annonces.push(val);
    localStorage.setItem('annonces',JSON.stringify(annonces));
    document.getElementById('annonceInput').value='';
    renderAnnonces();
  }
}

/* --- Tickets --- */
function openTicket() {
  const name = prompt('Nom pour le ticket ?');
  if(!name) return;
  const id = ticketIdCounter++;
  const ticket = {id, name, messages:[]};
  tickets.push(ticket);
  localStorage.setItem('tickets',JSON.stringify(tickets));
  localStorage.setItem('ticketCounter', ticketIdCounter);
  renderTickets();
}

function renderTickets() {
  const div = document.getElementById('tickets');
  div.innerHTML = '';
  tickets.forEach(ticket => {
    const tDiv = document.createElement('div');
    tDiv.className = 'ticket-discussion';
    tDiv.innerHTML = `<div class="ticket-message"><span>${ticket.name}:</span> Ticket ouvert !</div>
      <input type="text" placeholder="Envoyer message..." onkeydown="if(event.key==='Enter') sendMessage(${ticket.id},this)">`;
    div.appendChild(tDiv);
  });
}

function sendMessage(id,input) {
  const ticket = tickets.find(t=>t.id===id);
  if(ticket && input.value.trim()!=='') {
    ticket.messages.push({from:'Utilisateur', text: input.value});
    input.value='';
    localStorage.setItem('tickets',JSON.stringify(tickets));
    renderTickets();
  }
}

/* --- Admin panel --- */
function loginAdmin() {
  const code = prompt('Code admin:');
  if(code==='2516') {
    document.getElementById('adminPanel').style.display='block';
    renderAdminTickets();
  } else alert('Code incorrect');
}

function loginUser() {
  alert('Connexion Google non impl√©ment√©e encore üòÖ');
}

function renderAdminTickets() {
  const div = document.getElementById('adminTickets');
  div.innerHTML='';
  tickets.forEach(ticket => {
    const tDiv = document.createElement('div');
    tDiv.className='ticket-discussion';
    tDiv.innerHTML=`<h4>${ticket.name}</h4>`;
    ticket.messages.forEach(msg=>{
      tDiv.innerHTML+=`<div class="ticket-message"><span>${msg.from}:</span> ${msg.text}</div>`;
    });
    const input = document.createElement('input');
    input.placeholder="R√©pondre...";
    input.onkeydown=function(e){if(e.key==='Enter'){ticket.messages.push({from:'Admin', text:this.value}); localStorage.setItem('tickets',JSON.stringify(tickets)); renderAdminTickets();}};
    tDiv.appendChild(input);
    div.appendChild(tDiv);
  });
}

/* --- Initialisation --- */
renderAnnonces();
renderTickets();

</script>
</body>
</html>

