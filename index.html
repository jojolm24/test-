<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arthur & Jojo - Site officiel</title>
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #121212;
  color: #fff;
  margin:0;
  padding:0;
  transition:0.3s;
  cursor: url('https://cdn-icons-png.flaticon.com/512/32/32394.png'), auto;
}

/* ===================== */
/* Boutons styl√©s */
button {
  padding: 0.7rem 1.5rem;
  margin:0.5rem 0;
  border:none;
  border-radius:10px;
  font-weight:bold;
  background: linear-gradient(135deg,#6b6b6b,#444);
  color:#fff;
  cursor:pointer;
  transition: 0.3s;
}
button:hover {
  background: linear-gradient(135deg,#444,#6b6b6b);
  transform: scale(1.05);
}

/* ===================== */
/* Menu */
.menu-bar { position: fixed; top: 20px; right: 20px; cursor:pointer; z-index:1000; }
.menu-bar div { width: 30px; height: 4px; background:#fff; margin:6px 0; transition:0.4s; }
.menu-content {
  display:none;
  position: fixed; top:0; right:0; width:250px; height:100%;
  background:#222; flex-direction:column; padding:2rem;
  box-shadow:-2px 0 8px #000; z-index:999;
}
.menu-content.show { display:flex; }
.menu-content button { margin:1rem 0; }

/* ===================== */
/* Sections */
section { margin:2rem; background:#1c1c1c; padding:2rem; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.5);}
h2 { background: linear-gradient(90deg,#fff,#888); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin-bottom:1rem; }

/* ===================== */
/* Panel admin */
#adminPanel { display:none; margin:2rem; background:#111; padding:2rem; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.7);}
.admin-section { margin-bottom:1.5rem; }
.admin-section input, .admin-section textarea { width:100%; padding:0.5rem; margin-bottom:0.5rem; border-radius:6px; border:1px solid #555; background:#222; color:#fff; }
.admin-section button { padding:0.6rem; border-radius:6px; }

/* ===================== */
/* Annonces & vid√©os */
.annonce, .video { background:#333; padding:1rem; border-radius:10px; margin-bottom:1rem; }
.annonce p, .video p { margin-bottom:0.5rem; }

/* ===================== */
/* Tickets */
.ticket { background:#444; padding:1rem; border-radius:10px; margin-bottom:1rem; }
.ticket-msg { background:#555; padding:0.5rem; border-radius:6px; margin:0.3rem 0; animation:bounce 2s infinite; }

/* ===================== */
/* Emoji animation */
@keyframes bounce {0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}
.emoji { display:inline-block; animation:bounce 2s infinite; }

/* ===================== */
/* Mode sombre / clair */
.mode-btn { position:fixed; bottom:20px; left:20px; padding:0.5rem 1rem; background: linear-gradient(135deg,#444,#666); color:#fff; z-index:1000; }

/* ===================== */
/* Footer */
footer { text-align:center; margin-top:3rem; color:#888; font-size:0.9rem; }
</style>
</head>
<body>

<!-- Menu -->
<div class="menu-bar" onclick="toggleMenu()"><div></div><div></div><div></div></div>
<div class="menu-content" id="menuContent">
  <button onclick="openLogin('user')">üë§ Se connecter (Utilisateur)</button>
  <button onclick="openLogin('admin')">üîë Acc√®s Administratif</button>
  <button id="profileBtn" style="display:none;" onclick="editProfile()">‚öôÔ∏è Modifier Profil</button>
</div>

<div class="container">
  <h1 class="emoji">Arthur & Jojo - Site officiel</h1>

  <!-- Annonces -->
  <section id="annoncesSection">
    <h2>üì¢ Annonces</h2>
    <div id="annoncesContainer"></div>
  </section>

  <!-- Vid√©os -->
  <section id="videosSection">
    <h2>üé• Vid√©os</h2>
    <div id="videosContainer"></div>
  </section>

  <!-- Tickets -->
  <section id="ticketsSection">
    <h2>üé´ Tickets</h2>
    <button onclick="openTicket()">üÜï Ouvrir un ticket</button>
    <div id="ticketsContainer"></div>
  </section>

  <!-- Admin Panel -->
  <div id="adminPanel">
    <h2>üîß Panel Administrateur</h2>
    <div class="admin-section">
      <h3>üì¢ Ajouter annonce</h3>
      <textarea id="annonceInput" placeholder="Texte de l'annonce..."></textarea>
      <button onclick="addAnnonce()">Ajouter annonce</button>
    </div>
    <div class="admin-section">
      <h3>üé• Ajouter vid√©o</h3>
      <input id="videoInput" placeholder="URL de la vid√©o (YouTube)">
      <button onclick="addVideo()">Ajouter vid√©o</button>
    </div>
  </div>
</div>

<button class="mode-btn" onclick="toggleMode()">üåó Mode sombre/clair</button>

<footer>Cod√© par Jojo fait avec ‚ù§</footer>

<!-- Login Modal -->
<div id="loginModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;z-index:1000;">
  <div style="background:#111;padding:2rem;border-radius:10px;width:300px;">
    <h2 id="loginTitle" style="text-align:center;">Connexion</h2>
    <input type="text" id="loginName" placeholder="Nom d'utilisateur">
    <input type="password" id="loginPass" placeholder="Mot de passe">
    <button onclick="login()">Se connecter</button>
    <button onclick="closeLogin()" style="margin-top:0.5rem;">Annuler</button>
    <p id="loginError" style="color:red;text-align:center;display:none;">Erreur de connexion</p>
  </div>
</div>

<script>
let menuOpen=false;
let currentUser=null;
let users=JSON.parse(localStorage.getItem('users'))||[];
let tickets=JSON.parse(localStorage.getItem('tickets'))||[];
let annonces=JSON.parse(localStorage.getItem('annonces'))||[];
let videos=JSON.parse(localStorage.getItem('videos'))||[];
let adminCode='2516';
let darkMode=true;

function toggleMenu(){ menuOpen=!menuOpen; document.getElementById('menuContent').classList.toggle('show',menuOpen); }

let loginType='';
function openLogin(type){
  loginType=type;
  document.getElementById('loginModal').style.display='flex';
  document.getElementById('loginName').value='';
  document.getElementById('loginPass').value='';
  document.getElementById('loginError').style.display='none';
}
function closeLogin(){ document.getElementById('loginModal').style.display='none'; }

function login(){
  let name=document.getElementById('loginName').value.trim();
  let pass=document.getElementById('loginPass').value.trim();
  if(loginType==='admin'){
    if(pass===adminCode){ currentUser={name:'admin',id:'admin'}; openAdmin(); closeLogin(); showProfileBtn(); return; }
    else{ document.getElementById('loginError').style.display='block'; return; }
  } else {
    if(!name||!pass){ document.getElementById('loginError').style.display='block'; return; }
    let user=users.find(u=>u.name===name && u.pass===pass);
    if(!user){ user={name:name,pass:pass,id:Date.now()}; users.push(user); localStorage.setItem('users',JSON.stringify(users)); }
    currentUser=user;
    closeLogin();
    showProfileBtn();
    renderTickets();
    renderAnnonces();
    renderVideos();
  }
}

// ================= Admin Panel
function openAdmin(){ document.getElementById('adminPanel').style.display='block'; renderAnnonces(); renderVideos(); renderTickets(); }

// ================= Annonces
function addAnnonce(){
  let text=document.getElementById('annonceInput').value.trim();
  if(!text) return;
  annonces.push({text,id:Date.now()});
  localStorage.setItem('annonces',JSON.stringify(annonces));
  document.getElementById('annonceInput').value='';
  renderAnnonces();
}
function renderAnnonces(){
  let container=document.getElementById('annoncesContainer'); container.innerHTML='';
  annonces.forEach(a=>{
    let div=document.createElement('div'); div.className='annonce';
    div.innerHTML=`<p>${a.text}</p>`+(currentUser && currentUser.name==='admin'?`<button onclick="deleteAnnonce(${a.id})">Supprimer</button>`:'');
    container.appendChild(div);
  });
}
function deleteAnnonce(id){ annonces=annonces.filter(a=>a.id!==id); localStorage.setItem('annonces',JSON.stringify(annonces)); renderAnnonces(); }

// ================= Vid√©os
function addVideo(){
  let url=document.getElementById('videoInput').value.trim();
  if(!url) return;
  videos.push({url,id:Date.now()});
  localStorage.setItem('videos',JSON.stringify(videos));
  document.getElementById('videoInput').value='';
  renderVideos();
}
function renderVideos(){
  let container=document.getElementById('videosContainer'); container.innerHTML='';
  videos.forEach(v=>{
    let div=document.createElement('div'); div.className='video';
    div.innerHTML=`<iframe width="300" height="170" src="${v.url.replace("watch?v=","embed/")}" frameborder="0" allowfullscreen></iframe>`+
    (currentUser && currentUser.name==='admin'?`<button onclick="deleteVideo(${v.id})">Supprimer</button>`:'');
    container.appendChild(div);
  });
}
function deleteVideo(id){ videos=videos.filter(v=>v.id!==id); localStorage.setItem('videos',JSON.stringify(videos)); renderVideos(); }

// ================= Tickets
function openTicket(){
  if(!currentUser){ alert("Connectez-vous pour ouvrir un ticket"); return; }
  let t={id:Date.now(),userId:currentUser.id,msgs:[]};
  tickets.push(t); localStorage.setItem('tickets',JSON.stringify(tickets)); renderTickets();
}
function renderTickets(){
  let container=document.getElementById('ticketsContainer'); container.innerHTML='';
  let filteredTickets=currentUser && currentUser.name==='admin'?tickets:tickets.filter(t=>t.userId===currentUser.id);
  filteredTickets.forEach(t=>{
    let div=document.createElement('div'); div.className='ticket';
    div.innerHTML=`<h4>Ticket #${t.id}</h4>
    <div id="ticketMsgs${t.id}"></div>
    <input id="ticketInput${t.id}" placeholder="√âcrire un message..." style="width:100%;margin-top:0.5rem;">
    <button onclick="sendTicketMsg(${t.id})">Envoyer</button>`;
    container.appendChild(div);
    let msgsDiv=document.getElementById(`ticketMsgs${t.id}`);
    msgsDiv.innerHTML=t.msgs.map(m=>`<div class="ticket-msg"><strong>${m.user}:</strong> ${m.text}</div>`).join('');
  });
}
function sendTicketMsg(ticketId){
  let input=document.getElementById(`ticketInput${ticketId}`);
  let text=input.value.trim(); if(!text) return;
  let ticket=tickets.find(t=>t.id===ticketId);
  ticket.msgs.push({user:currentUser.name,text:text});
  localStorage.setItem('tickets',JSON.stringify(tickets));
  input.value=''; renderTickets();
}

// ================= Mode sombre / clair
function toggleMode(){
  darkMode=!darkMode;
  document.body.style.background=darkMode?'#121212':'#eee';
  document.body.style.color=darkMode?'#fff':'#111';
}

// ================= Modifier profil
function showProfileBtn(){ document.getElementById('profileBtn').style.display='inline-block'; }
function editProfile(){
  let newName=prompt("Nouveau nom:",currentUser.name);
  let newPass=prompt("Nouveau mot de passe:");
  if(newName){ currentUser.name=newName; }
  if(newPass){ currentUser.pass=newPass; }
  if(currentUser.id!=='admin'){ users=users.map(u=>u.id===currentUser.id?currentUser:u); localStorage.setItem('users',JSON.stringify(users)); }
  alert("Profil modifi√© !");
}

renderAnnonces();
renderVideos();
renderTickets();
</script>
</body>
</html>
