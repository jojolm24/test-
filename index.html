<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Collège Jacques Prévert</title>
<style>
:root{
  --bg:#f6f9fc; --card:#fff; --text:#0f1724; --muted:#6b7280;
  --accent:#1e4db7; --accent-2:#0ea5a4; --radius:12px; --shadow:0 8px 24px rgba(12,23,63,0.08);
  --success:#16a34a; --danger:#ef4444; --glass:rgba(255,255,255,0.7);
}
:root[data-theme="dark"]{
  --bg:#071024; --card:#07172a; --text:#e6eef6; --muted:#9aa8bb; --glass:rgba(255,255,255,0.03);
}
body{margin:0;font-family:Inter,sans-serif;background:var(--bg);color:var(--text);}
a{color:inherit;text-decoration:none;}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;position:sticky;top:0;z-index:1000;}
header .brand{font-weight:800;font-size:20px;}
header .google-login{background:#fff;color:var(--accent);padding:6px 14px;border-radius:8px;font-weight:700;cursor:pointer;transition:0.3s;}
header .google-login:hover{background:#e1e7f5;}
.container{max-width:1100px;margin:20px auto;padding:0 20px;}
.hero{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;padding:40px 20px;border-radius:var(--radius);text-align:center;margin-bottom:20px;box-shadow:var(--shadow);}
.hero h1{margin:0;font-size:32px;}
.hero p{margin-top:12px;font-size:18px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;}
@media(max-width:960px){.grid{grid-template-columns:repeat(2,1fr);}}
@media(max-width:640px){.grid{grid-template-columns:1fr;}}
.card{background:var(--card);padding:20px;border-radius:var(--radius);box-shadow:var(--shadow);transition:0.3s;}
.card:hover{transform:translateY(-4px);box-shadow:0 12px 28px rgba(12,23,63,0.15);}
h2{margin-top:0;}
.muted{color:var(--muted);}
.btn{background:var(--accent);color:#fff;padding:8px 16px;border-radius:10px;border:none;cursor:pointer;font-weight:700;transition:0.3s;}
.btn:hover{opacity:0.9;}
.btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.1);color:var(--text);}
.admin-toggle{position:fixed;bottom:20px;left:20px;right:20px;background:var(--card);padding:16px;border-radius:16px;box-shadow:0 18px 40px rgba(2,6,23,0.12);display:flex;justify-content:space-between;align-items:center;gap:12px;z-index:1200;transition:transform .3s;}
.admin-hidden{transform:translateY(calc(100% - 70px));}
.admin-actions{display:flex;gap:8px;align-items:center;}
.input{padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);min-width:160px;background:transparent;color:var(--text);}
.ann-list,.doc-list{display:flex;flex-direction:column;gap:10px;}
.ann-item,.doc-item{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);}
footer{text-align:center;padding:28px;color:var(--muted);margin-top:28px;background:#e9ecef;border-top:1px solid #d0d7df;}
</style>
</head>
<body>

<header>
  <div class="brand">Collège Jacques Prévert</div>
  <div class="google-login" onclick="alert('Connexion Google simulée !')">Se connecter avec Google</div>
</header>

<div class="container">
  <section class="hero">
    <h1>Bienvenue au Collège Jacques Prévert</h1>
    <p>Site officiel modernisé avec panneau admin et accès visiteurs</p>
  </section>

  <section class="grid">
    <div class="card">
      <h2>Informations générales</h2>
      <p class="muted">Collège public — Académie de Bordeaux</p>
      <p><strong>Adresse :</strong> 18 rue Armand Got, 24100 Bergerac</p>
      <p><strong>Tel :</strong> 05 53 63 52 80</p>
      <p><strong>Email :</strong> ce.0240996c@ac-bordeaux.fr</p>
      <p><strong>UAI :</strong> 0240996C</p>
    </div>
    <div class="card">
      <h2>Formations & Langues</h2>
      <ul>
        <li>Classes : 6e / 5e / 4e / 3e</li>
        <li>Langues : Anglais, Espagnol, Italien</li>
      </ul>
    </div>
    <div class="card">
      <h2>Inclusion — ULIS</h2>
      <p class="muted">Dispositif ULIS pour élèves en situation de handicap</p>
    </div>
  </section>

  <section class="card" style="margin-top:20px;">
    <h2>Annonces</h2>
    <div id="annoncesMain" class="ann-list"></div>
  </section>

  <section class="card" style="margin-top:20px;">
    <h2>Documents officiels</h2>
    <div id="docsMain" class="doc-list"></div>
  </section>
</div>

<div id="adminToggle" class="admin-toggle admin-hidden">
  <div><strong>Panneau Admin</strong> — Accès rapide</div>
  <div class="admin-actions">
    <input id="adminPass" type="password" class="input" placeholder="Mot de passe admin">
    <button id="adminLogin" class="btn">Se connecter</button>
  </div>
</div>

<footer>
  © Collège Jacques Prévert — Site modernisé avec panneau admin
</footer>

<script>
// LocalStorage keys
const LS_KEYS={ANNS:'site_annonces',DOCS:'site_docs',AUTH:'site_admin_auth'};

// Admin password
const ADMIN_PW='2516';

// Helper functions
function cryptoId(){return 'id_'+Math.random().toString(36).slice(2,10);}
function escapeHtml(s=''){return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}

// Demo data
if(!localStorage.getItem(LS_KEYS.ANNS)){localStorage.setItem(LS_KEYS.ANNS,JSON.stringify([
  {id:cryptoId(),title:'Rentrée scolaire',body:'La rentrée aura lieu le 2 septembre à 8h.',date:new Date().toLocaleString()},
  {id:cryptoId(),title:'Réunion parents',body:'Réunion parents/profs le 15 janvier à 18h.',date:new Date().toLocaleString()}
]));}
if(!localStorage.getItem(LS_KEYS.DOCS)){localStorage.setItem(LS_KEYS.DOCS,JSON.stringify([
  {id:cryptoId(),name:'Règlement intérieur (PDF)',url:'#'},
  {id:cryptoId(),name:'Menu cantine - Novembre',url:'#'}
]));}

// Render lists
function renderAnnoncesMain(){
  const cont=document.getElementById('annoncesMain');cont.innerHTML='';
  const anns=JSON.parse(localStorage.getItem(LS_KEYS.ANNS)||'[]');
  if(!anns.length){cont.innerHTML='<div class="ann-item muted">Aucune annonce</div>';return;}
  anns.slice().reverse().forEach(a=>{
    const el=document.createElement('div');el.className='ann-item';
    el.innerHTML=`<strong>${escapeHtml(a.title)}</strong> <span class="muted">${escapeHtml(a.date)}</span><p>${escapeHtml(a.body)}</p>`;
    cont.appendChild(el);
  });
}
function renderDocsMain(){
  const cont=document.getElementById('docsMain');cont.innerHTML='';
  const docs=JSON.parse(localStorage.getItem(LS_KEYS.DOCS)||'[]');
  if(!docs.length){cont.innerHTML='<div class="doc-item muted">Aucun document</div>';return;}
  docs.slice().reverse().forEach(d=>{
    const el=document.createElement('div');el.className='doc-item';
    el.innerHTML=`<strong>${escapeHtml(d.name)}</strong> <a href="${d.url}" target="_blank" class="btn ghost">Voir</a>`;
    cont.appendChild(el);
  });
}

// Admin login
document.getElementById('adminLogin').addEventListener('click',()=>{
  const pass=document.getElementById('adminPass').value;
  if(pass===ADMIN_PW){
    alert('Accès admin autorisé !');
    document.getElementById('adminToggle').classList.remove('admin-hidden');
  } else alert('Mot de passe incorrect');
});

// Initialize
renderAnnoncesMain();
renderDocsMain();
</script>

</body>
</html>
